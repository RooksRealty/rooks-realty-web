<script type="text/ng-template" id="edit-user.html">
    <div class="modal-header">
        <button ng-show="user.id" class="btn btn-danger pull-right" ng-click="removeListing(user.id)"><i class="fa fa-trash"></i></button>
    	<h3 class="modal-title" ng-show="user == {}">Add New User</h3>
        <h3 class="modal-title" ng-hide="user == {}">Edit User</h3>
    </div>
    <div class="modal-body">

        <form class="form-horizontal" name='userForm' novalidate>
		  <div class="form-group" ng-class="{'has-error': userForm.email.$touched && userForm.email.$invalid}">
		    <label for="email" class="col-sm-2 control-label">Email *</label>
		    <div class="col-sm-5">
		      <input type="email" class="form-control" name="email" id="email" ng-model="user.email" required>
		    </div>
		  </div>
		</form>
    </div>
    <div class="modal-footer">
        <button class="btn btn-primary" ng-hide="user.id" ng-click="create()">Create</button>
        <button class="btn btn-primary" ng-show="user.id" ng-click="update()">Update</button>
        <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
    </div>
</script>

<button class="btn btn-primary" type="submit" ng-click="openModal({})"><i class="fa fa-plus"></i> Add a User</button>

<div class="text-center" ng-show="loading">
	<i class="fa fa-spinner fa-pulse fa-5x"></i>
	<p>Loading...</p>
</div>

<table ng-hide="loading" class="table table-hover">
	<thead>
		<tr>
			<th>Users</th>
			<th></th>
		</tr>
	</thead>

	<tbody>
		<tr ng-repeat="user in users">
			<td>{{user.email}}</td>
			<td>
				<button class="btn btn-info btn-xs" ng-click="openModal(user)"><i class="fa fa-edit"></i></button>
				<button class="btn btn-danger btn-xs" ng-click="removeUser(user.id)"><i class="fa fa-trash"></i></button>
			</td>
		</tr>
	</tbody>

</table>